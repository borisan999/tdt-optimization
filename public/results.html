<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TDT Optimization — Results</title>

<style>
:root{
  --bg: rgb(245,245,246);
  --panel: rgb(220,237,232);
  --accent: rgb(30,115,100);
  --muted: #6b7280;
  --card-shadow: 0 8px 24px rgba(6,30,24,0.06);
  --radius: 12px;
  --mono: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:var(--mono);background:linear-gradient(180deg,var(--bg),#f7f8f9);
  color:#06241b;-webkit-font-smoothing:antialiased;
}
.container{max-width:1250px;margin:20px auto;padding:18px;}

header{display:flex;align-items:center;gap:18px;margin-bottom:18px}
.logo{width:58px;height:58px;border-radius:10px;background:linear-gradient(135deg,#d9efe9,#b8e6dd);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--accent);font-size:18px;box-shadow:var(--card-shadow)}
h1{margin:0;font-size:20px}
.sub{color:var(--muted);font-size:13px}

.nav{margin-left:auto;display:flex;gap:10px;align-items:center}
.nav button{background:transparent;border:1px solid transparent;padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--muted)}

.card{background:#fff;padding:16px;border-radius:var(--radius);box-shadow:var(--card-shadow);border:1px solid #eaf4f1;margin-bottom:18px}

.kpi-row{display:flex;gap:14px;flex-wrap:wrap}
.kpi{flex:1;min-width:180px;background:white;padding:14px;border-radius:10px;border:1px solid #eef7f3}
.kpi .num{font-weight:800;color:var(--accent);font-size:22px}
.kpi .label{color:var(--muted);font-size:13px}

table{width:100%;border-collapse:collapse;font-size:13px;margin-top:12px}
th, td{padding:10px;border-bottom:1px solid #eef3f2;text-align:left}
th{background:#e9f4f1;color:#084;font-weight:700}
tbody tr:hover{background:#f4fcf6}

.btn{
  background:var(--accent);color:white;padding:10px 14px;border-radius:10px;
  border:0;cursor:pointer;font-weight:700;font-size:14px;
}
.btn.ghost{
  background:transparent;color:var(--accent);
  border:1px solid rgba(6,115,88,0.22);
}

.two-cols{display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-bottom:18px}
.section-title{font-weight:800;font-size:16px;color:#053a2d;margin-bottom:6px}
.small{font-size:12px;color:var(--muted)}

@media(max-width:900px){
  .two-cols{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="container">
<header>
  <div class="logo">TDT</div>
  <div>
    <h1>Optimization Results</h1>
    <div class="sub">Signal levels • Components • Cable lengths • Diagnostics</div>
  </div>

  <nav class="nav">
    <button onclick="nav('dashboard')">Dashboard</button>
    <button onclick="nav('enter')">Enter Data</button>
    <button onclick="nav('history')">History</button>
  </nav>
</header>

<div class="card">
  <div class="section-title">Summary</div>
  <div class="small">Dataset ID: 122 &nbsp;|&nbsp; Optimization Run: #501 &nbsp;|&nbsp; Executed on: 2025-11-08</div>

  <div class="kpi-row" style="margin-top:10px">
    <div class="kpi">
      <div class="num">58.5 dBµV</div>
      <div class="label">Average Signal</div>
    </div>
    <div class="kpi">
      <div class="num">+3.2 / -2.7</div>
      <div class="label">Max / Min Deviation</div>
    </div>
    <div class="kpi">
      <div class="num">34</div>
      <div class="label">Total TU Points</div>
    </div>
    <div class="kpi">
      <div class="num">12</div>
      <div class="label">Components Used</div>
    </div>
  </div>

  <div style="margin-top:18px;">
    <button class="btn" onclick="alert('Download Excel (mockup)')">Download Excel</button>
    <button class="btn ghost" onclick="alert('Download PDF (mockup)')">Download PDF</button>
  </div>
</div>

<!-- Signal Levels -->
<div class="card">
  <div class="section-title">Signal Levels per Apartment</div>
  <table>
    <thead>
      <tr>
        <th>Floor</th>
        <th>Apt</th>
        <th>Final Signal (dBµV)</th>
        <th>Deviation</th>
        <th>TU Count</th>
      </tr>
    </thead>
    <tbody>
      <tr onclick="openTU(101)">
        <td>1</td><td>101</td><td>59.2</td><td>-0.8</td><td>2</td>
      </tr>
      <tr onclick="openTU(102)">
        <td>1</td><td>102</td><td>61.8</td><td>+1.8</td><td>1</td>
      </tr>
      <tr onclick="openTU(201)">
        <td>2</td><td>201</td><td>58.0</td><td>-2.0</td><td>2</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Two Columns -->
<div class="two-cols">

  <!-- TU Details -->
  <div class="card">
    <div class="section-title">TU-Level Details</div>
    <div class="small">Click an apartment above to update this table</div>

    <table id="tu-table">
      <thead>
        <tr>
          <th>TU Index</th>
          <th>Cable TU (m)</th>
          <th>Signal (dBµV)</th>
          <th>Note</th>
        </tr>
      </thead>
      <tbody>
        <tr><td colspan="4" style="text-align:center;color:var(--muted)">Select an apartment</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Components -->
  <div class="card">
    <div class="section-title">Components Used</div>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Model</th>
          <th>Qty</th>
          <th>Loss (dB)</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>Derivador</td><td>DER-2</td><td>3</td><td>14 / 1</td></tr>
        <tr><td>Derivador</td><td>DER-4</td><td>1</td><td>20 / 2</td></tr>
        <tr><td>Repartidor</td><td>REP-2</td><td>2</td><td>4.0</td></tr>
        <tr><td>Cable</td><td>RG6</td><td>34 m</td><td>0.18/m</td></tr>
      </tbody>
    </table>
  </div>

</div>

<!-- Cable length -->
<div class="card">
  <div class="section-title">Cable Length Breakdown</div>
  <table>
    <thead>
      <tr>
        <th>Segment</th>
        <th>Length (m)</th>
        <th>Loss (dB)</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Vertical riser</td><td>18.0</td><td>3.2</td></tr>
      <tr><td>Floor distribution</td><td>12.5</td><td>2.1</td></tr>
      <tr><td>Apt → TU</td><td>7.8</td><td>1.0</td></tr>
      <tr><td>Total</td><td><strong>38.3</strong></td><td><strong>6.3</strong></td></tr>
    </tbody>
  </table>
</div>

<footer style="text-align:center;color:var(--muted);font-size:12px;padding:20px;">
Prototype UI — Results Page
</footer>

<script>
function nav(page){
  alert("Navigate to " + page + " (mockup)");
}

/* Simulated TU Details Data */
const TU_DATA = {
  101: [
    {idx:1, len:4.5, sig:59.1, note:"OK"},
    {idx:2, len:3.2, sig:58.3, note:"OK"},
  ],
  102: [
    {idx:1, len:6.0, sig:61.0, note:"+1dB high"},
  ],
  201: [
    {idx:1, len:7.1, sig:57.6, note:"Low"},
    {idx:2, len:4.4, sig:58.2, note:"OK"},
  ]
};

function openTU(apt){
  const tbody = document.querySelector("#tu-table tbody");
  tbody.innerHTML = '';
  if(!TU_DATA[apt]){
    tbody.innerHTML = `<tr><td colspan="4">No TU data</td></tr>`;
    return;
  }
  for(const row of TU_DATA[apt]){
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${row.idx}</td>
      <td>${row.len}</td>
      <td>${row.sig}</td>
      <td>${row.note}</td>
    `;
    tbody.appendChild(tr);
  }
}
</script>

</body>
</html>

